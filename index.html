<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P2P Code Breaker</title>
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <h1>Code Breaker P2P</h1>

    <div class="container">
        
        <div id="menu-screen">
            <p>Play "Mastermind" with a friend online.</p>
            <button class="btn" onclick="hostGame()">Host Game</button>
            <div style="margin: 15px 0; opacity: 0.7;">— OR —</div>
            <input type="text" id="join-id-input" placeholder="Enter Friend's ID">
            <button class="btn btn-secondary" onclick="joinGame()">Join Game</button>
        </div>

        <div id="lobby-screen" class="hidden">
            <h3>Waiting for Player...</h3>
            <p>Send this ID to your friend:</p>
            <input type="text" id="my-peer-id" readonly onclick="this.select()">
            <p id="lobby-status" style="font-size: 0.9rem; color: #aaa;">Connecting to server...</p>
            <button class="btn btn-secondary" onclick="location.reload()">Cancel</button>
        </div>

        <div id="game-screen" class="hidden">
            <div class="status-badge" id="connection-status">Connected</div>
            <div id="role-display" class="role-indicator">Loading...</div>
            <p id="instruction-text">Waiting...</p>

            <div id="input-area">
                <input type="tel" id="game-input" maxlength="4" placeholder="0000">
                <button class="btn" id="action-btn" onclick="submitAction()">Submit</button>
            </div>

            <div class="history" id="game-history">
                </div>
        </div>

    </div>

    <script src="script.js"></script>
</body>
</html>
